<!DOCTYPE html>
<html>
  <head>
    <title>Ronny's Agentic Dashboard</title>
    <style>
      body {
        font-family: sans-serif;
        margin: 0;
        padding: 0;
        background: #f4f4f4;
      }
      header {
        background: #222;
        color: white;
        padding: 1rem;
        text-align: center;
      }
      .module {
        background: white;
        margin: 1rem;
        padding: 1rem;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      }
      h2 {
        margin-top: 0;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 0.5rem;
      }
      th, td {
        border: 1px solid #ddd;
        padding: 0.5rem;
        text-align: left;
      }
      th {
        background-color: #f0f0f0;
      }
    </style>
    <script>
      function filterModules() {
        const selected = document.getElementById("sector").value;
        const rows = document.querySelectorAll(".ai-row");
        rows.forEach(row => {
          row.style.display = (selected === "all" || row.classList.contains(selected)) ? "" : "none";
        });
      }

      async function fetchPrice(symbol, elementId) {
        try {
          const res = await fetch(`https://financialmodelingprep.com/api/v3/quote-short/${symbol}?apikey=YnAV01BZii9Wufeo4nw6i8Z5cs9Z52Gv`);
          const data = await res.json();
          const price = data[0]?.price;
          document.getElementById(elementId).textContent = price ? `‚Çπ${price}` : "Unavailable";
        } catch (err) {
          document.getElementById(elementId).textContent = "Error";
        }
      }

      window.onload = function() {
        fetchPrice("MARUTI.BSE", "maruti-price");
        fetchPrice("HDFCBANK.BSE", "hdfc-price");
      };
    </script>
  </head>
  <body>
    <header>
      <h1>Ronny's Agentic Dashboard</h1>
      <p>Cycle-aware, modular, and built for clarity</p>
    </header>

    <div class="module">
      <h2>üìä Filter Modules</h2>
      <label for="sector">Select Sector:</label>
      <select id="sector" onchange="filterModules()">
        <option value="all">All</option>
        <option value="autos">Autos</option>
        <option value="commodities">Commodities</option>
        <option value="nbfcs">NBFCs/Banks</option>
        <option value="hotels">Hotels</option>
      </select>
    </div>

    <div class="module">
      <h2>üìà Watchlist</h2>
      <table>
        <tr>
          <th>Stock</th>
          <th>Segmental Revenue</th>
          <th>Ownership</th>
          <th>Cycle Signal</th>
        </tr>
        <tr>
          <td>Maruti Suzuki</td>
          <td>Passenger Vehicles: 85%<br>Exports: 10%</td>
          <td>Suzuki Motor Corp: 56%</td>
          <td>üîÅ Mid-cycle, rising margins<br><strong>Live Price:</strong> <span id="maruti-price">Loading...</span></td>
        </tr>
        <tr>
          <td>HDFC Bank</td>
          <td>Retail Loans: 60%<br>Corporate: 30%</td>
          <td>Public: 100%</td>
          <td>üìâ Late-cycle, NIM pressure<br><strong>Live Price:</strong> <span id="hdfc-price">Loading...</span></td>
        </tr>
      </table>
    </div>

    <div class="module">
      <h2>üß† AI Modules</h2>
      <table>
        <tr>
          <th>Sector</th>
          <th>Agent Function</th>
          <th>Cycle Context</th>
          <th>Signal</th>
        </tr>
        <tr class="ai-row commodities">
          <td>Commodities</td>
          <td>Track global supply/demand, inventory levels, and price triggers</td>
          <td>Early-cycle, inflation-sensitive</td>
          <td>üü¢ Rising input costs, bullish copper</td>
        </tr>
        <tr class="ai-row autos">
          <td>Autos</td>
          <td>Monitor EV adoption, rural demand, and export trends</td>
          <td>Mid-cycle, margin expansion</td>
          <td>üü° Maruti gaining share, Tata EV push</td>
        </tr>
        <tr class="ai-row nbfcs">
          <td>NBFCs/Banks</td>
          <td>Analyze NIM trends, credit growth, and regulatory shifts</td>
          <td>Late-cycle, rate-sensitive</td>
          <td>üî¥ NIM compression, rising NPAs</td>
        </tr>
        <tr class="ai-row hotels">
          <td>Hotels</td>
          <td>Track occupancy, ARR, and seasonal demand</td>
          <td>Mid-cycle, discretionary rebound</td>
          <td>üü¢ High ARR, festive bookings strong</td>
        </tr>
      </table>
    </div>

    <div class="module">
      <h2>üîî Cycle Alerts</h2>
      <p>Contrarian signals and macro triggers from Templeton, Marks, and beyond.</p>
    </div>

    <div class="module">
      <h2>üõ†Ô∏è Troubleshooting Hub</h2>
      <p>Step-by-step guides for Vercel, GitHub, and deployment flows.</p>
    </div>
  </body>
</html>
